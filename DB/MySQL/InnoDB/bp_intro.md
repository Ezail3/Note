---
# 缓冲池工作原理浅析
---

```
                                  Clients
                                     ^  +
                           read data |  |
              +----------------------+  |
              |                         |
	      |          +--------------+
              |          | write data
              |          |
              |          |
          +--+--+-----+--v--+---------------+ +--------+ +--------+     +--------+
          |  |  |     | Buffer              | | Buffer | | Buffer |     | Buffer |
          | 16K | 16K | 16K |...... Pool 1  | | Pool 2 | | Pool 3 | ... | Pool N | On Memory
          | p:5 |     | p:8 |               | |        | |        |     |        |
          +--^--+-----+--+--+---------------+ +--------+ +--------+     +--------+
             |           |
    read page| from disk |
             |           |
+----------------------------------------------------------------------------------------------------+
             |           |
             |      flush|to disk
             +-----+     |
                   |     |
                +--+--+--v--+-----+------+-----+
                |     |     |     |      |     |
 space id = 135 | 16K | 16K | 16K |......| 16K | a.ibd       +-------+
                | p:5 | p:8 |     |      |     |                     |
                +-----+-----+-----+------+-----+                     |
                                                                     |
                +-----+-----+-----+------+-----+                     |
                |     |     |     |      |     |                     |
 space id = 166 | 16K | 16K | 16K |......| 16K | xx.ibd    +---------+ On Disk
                |     |     |     |      |     |                     |
                +-----+-----+-----+------+-----+                     |
                                                                     |
                +-----+-----+-----+------+-----+                     |
                |     |     |     |      |     |                     |
 space id = 0   | 16K | 16K | 16K |......| 16K | ibdata1.ibd +-------+
                |     |     |     |      |     |
                +-----+-----+-----+------+-----+
```
