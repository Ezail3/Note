## Ⅰ、什么是搜索
通过关键字获得与该关键字相关的信息

## Ⅱ、用MySQL做搜索
|id | info |
|:-:|:----:|
|1 |iphone is the best|
|2|iphone xs is coming|
|3|SAMSUNG is cheaper than iphone|
|4|what makes an iphone an iphone?|

用MySQL搜索iphone
```
select * from t where info like '%iphone%';
```
从MySQL的角度来看，这个sql是无法命中索引的，必然要扫全表，如果表的数据量很大，则io消耗非常大

##Ⅲ、倒排索引与lucene
鉴于MySQL搜索的方法带来的壁垒，一种叫倒排索引的搜索应运而生
先把表中每一条记录的info字段切分成不同的关键词，把该关键词出现的所有记录的id统计出来
|关键词|ids|
|:---:|:-:|
|iphone|1,2,3,4|
|is|1,2,3|
|the|1|
|best|1|
|xs|2|
|coming|2|
等等...

当搜索'iphone'这个关键词时直接一次就把1，2，3，4这四条记录返回，效率较高，当然这只是举一个简单例子了解一下倒排索引，其实还有很多复杂的细节后面再看

**那lucene又是什么东西？**

它就是一个jar包，封装了各种建立倒排索引及进行搜索的代码算法。java开发引入它之后就可以基于它的api进行各种开发

##Ⅳ、认识elasticsearch
单台服务器承受不住一定数据量时，我们需要做扩展，用多台机器进行数据存储和搜索，这个过程自己来实现非常复杂，这时候需要用elasticsearch来管理一个集群，业务只需和集群统一的对外通道交互即可

- 自动维护数据的分布到各个节点的索引建立，和搜索请求分布到多个节点的执行
- 自动维护数据冗余副本，保证部分节点故障不丢数据
- 封装高级功能，如复杂搜索及聚合分析，地理空间搜索等

关于具体实现原理细节后续逐个分析
